<div class="iframe wrapper bottom-margin clearfix">

{% if data.props.width <= 360 %}
    {% assign $breakpoint = 360 %}
{% elsif data.props.width <= 475 %}
    {% assign $breakpoint = 475 %}
{% elsif data.props.width <= 640 %}
    {% assign $breakpoint = 640 %}
{% elsif data.props.width <= 832 %}
    {% assign $breakpoint = 832 %}
{% else %}
    {% assign $breakpoint = 900 %}
{% endif %}

<!--TODO: check the width  -->

{% if data.props.width <= 760 %}
    {% assign iframeWidth = data.props.width %}
{% else %}
    {% assign iframeWidth = 760 %}
{% endif %}

    <div class="visible-{{$breakpoint}}">
        <amp-iframe
            src="{{data.props.src}}"
            layout="fixed"
            sandbox="allow-scripts allow-same-origin"
            width="{{iframeWidth}}"
            height="{{data.props.height}}"
            title="{{data.props.title}}"
            class="mx-auto block"
            >
            <!-- TODO: Get a better Loading... placeholder image for iFrames -->
            <amp-img
                height="207"
                width="207"
                layout="fixed"
                placeholder
                src="https://content-solutions.s3.ca-central-1.amazonaws.com/courseware/images/iframe-loading.svg"
            ></amp-img>
        </amp-iframe>
    </div>

    <!-- When viewed at < {{$breakpoint}}px, launch the ILO into a new tab via link -->
    <div class="box-shadow-darker std-radius py4 px3 center hidden-{{$breakpoint}}">
        <div class="font-larger bold mt4 pb2 border-bottom" aria-hidden="true">
            {{data.props.title}}
        </div>

        <div class="my4">
            <a href='{{data.props.url}}' target='_blank' class="btn btn-primary-sm btn-launch-start font-normal">
                Launch Interactive  <span class="sr-only">{{data.props.title}} (Opens in a new window)</span><i class="fa fa-external-link" aria-hidden="true"></i>
            </a>
        </div>
    </div>

</div>